<div class="row" ng-cloak>

    <div class="text-center">
        <h2>{{vm.paciente.nombres}} {{vm.paciente.apellidos}} ({{vm.paciente.cedula}}) </h2>
        <hr>
    </div>
    <jhi-alert-error></jhi-alert-error>

    <div class="flex-btn-group-container text-center">
        <div class="col-md-3 col-xs-6 ">
            <div class="panel" ng-class="'panel-default'">
                <div class="panel-body">
                    Ãšltima visita: {{vm.paciente.ultimaVisita | date:'mediumDate'}}
                </div>
            </div>
        </div>
        <div class="col-md-3 col-xs-6">
            <div class="panel" ng-class="'panel-danger'">
                <div class="panel-body">
                    Saldo: {{vm.paciente.saldo |currency:'$'}}
                </div>
            </div>
        </div>
    </div>

    <!-- Cuadro lateral IZQ -->
    <div id="lateral-izq" class="col-md-3">
        <!-- Acciones -->
        <div id="acciones" class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-cuadro" style="width: 100%">
                    <button type="submit"
                            ui-sref="{{ vm.previousState }}"
                            class="btn btn-info">
                        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span data-translate="entity.action.back"> Back</span>
                    </button>
                    <button type="button" ui-sref="paciente-home.edit({id:vm.paciente.id})" class="btn btn-primary">
                        <span class="glyphicon glyphicon-pencil"></span>
                        <span class="hidden-sm-down" data-translate="dentalApp.paciente.action.edit"> Edit</span>
                    </button>
                    <button type="button" ui-sref="paciente-home.tratamiento({id:vm.paciente.id})" class="btn btn-primary">
                        <span class="glyphicon glyphicon-plus"></span>
                        <span class="hidden-sm-down" data-translate="dentalApp.paciente.action.tratamiento"> Tratamiento</span>
                    </button>
                    <button type="button" ui-sref="paciente-home.diagnostico({id:vm.paciente.id})" class="btn btn-primary">
                        <span class="glyphicon glyphicon-plus"></span>
                        <span class="hidden-sm-down" data-translate="dentalApp.paciente.action.diagnostico"> Diagnostico</span>
                    </button>
                    <button type="button" ui-sref="paciente-home.pago({id:vm.paciente.id})" class="btn btn-primary">
                        <span class="glyphicon glyphicon-plus"></span>
                        <span class="hidden-sm-down" data-translate="dentalApp.paciente.action.pago"> Pago</span>
                    </button>
                    <button type="button" ui-sref="paciente-home.nota({id:vm.paciente.id})" class="btn btn-primary">
                        <span class="glyphicon glyphicon-plus"></span>
                        <span class="hidden-sm-down" data-translate="dentalApp.paciente.action.nota"> Pago</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Notas -->
        <div id="notas" class="panel panel-default">
            <div class="panel-heading">
                <div class="panel-title">
                    <span data-translate="dentalApp.paciente.home.notaLabel">Notas</span>
                </div>
            </div>
                <div class="panel-nota panel-default" ng-repeat="n in vm.notas | orderBy : '-fecha'">
                    <span class="usuario-nota">{{n.usuario}} ({{n.fecha | date:'mediumDate'}}):</span>
                    <p>{{n.comentario}}</p>
                </div>
        </div>
    </div>

    <div id="info" class="col-md-9">
        <div class="panel-group" id="accordion">
           <!-- Panel datos Personales -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title col-xs-10" data-translate="dentalApp.paciente.home.personalesLabel">
                        Datos Personales
                    </h4>
                    <div class="flex-btn-group-container">
                        <a ng-show="vm.ocultarDatos" href="" ng-click="vm.ocultarDatos = !vm.ocultarDatos">Mostrar</a>
                        <a ng-hide="vm.ocultarDatos" href="" ng-click="vm.ocultarDatos = !vm.ocultarDatos">Ocultar</a>
                    </div>
                </div>
                <div id="datos-pers-panel" uib-collapse="vm.ocultarDatos">
                    <div class="panel-body">
                        <dl class="dl-horizontal jh-entity-details">
                            <!-- Datos Personales -->
                            <dt><span data-translate="dentalApp.paciente.fecha">Fecha</span></dt>
                            <dd>
                                <span>{{vm.paciente.fecha | date:'mediumDate'}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.nombres">Nombres</span></dt>
                            <dd>
                                <span>{{vm.paciente.nombres}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.apellidos">Apellidos</span></dt>
                            <dd>
                                <span>{{vm.paciente.apellidos}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.cedula">Cedula</span></dt>
                            <dd>
                                <span>{{vm.paciente.cedula}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.telefono">Telefono</span></dt>
                            <dd>
                                <span>{{vm.paciente.telefono}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.celular">Celular</span></dt>
                            <dd>
                                <span>{{vm.paciente.celular}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.direccion">Direccion</span></dt>
                            <dd>
                                <span>{{vm.paciente.direccion}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.mail">Mail</span></dt>
                            <dd>
                                <span>{{vm.paciente.mail}}</span>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
            <!-- Panel datos medicos-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title col-xs-10" data-translate="dentalApp.paciente.home.anteMedicosLabel">
                        Antecedentes medicos
                    </h4>
                    <div class="flex-btn-group-container">
                    <a ng-show="vm.ocultarAMedicos" href="" ng-click="vm.ocultarAMedicos = !vm.ocultarAMedicos">Mostrar</a>
                    <a ng-hide="vm.ocultarAMedicos" href="" ng-click="vm.ocultarAMedicos = !vm.ocultarAMedicos">Ocultar</a>
                    </div>
                </div>
                <div id="ante-medicos-panel" uib-collapse="vm.ocultarAMedicos">
                    <div class="panel-body">
                        <dl class="dl-horizontal jh-entity-details">
                            <!-- Datos Medicos -->
                            <dt><span data-translate="dentalApp.paciente.alergico">Alergico</span></dt>
                            <dd>
                                <span>{{vm.paciente.alergico}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.diabetes">Diabetes</span></dt>
                            <dd>
                                <span>{{vm.paciente.diabetes}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.presionAlta">Presion Alta</span></dt>
                            <dd>
                                <span>{{vm.paciente.presionAlta}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.tiroides">Tiroides</span></dt>
                            <dd>
                                <span>{{vm.paciente.tiroides}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.cicatrizacion">Cicatrizacion</span></dt>
                            <dd>
                                <span>{{vm.paciente.cicatrizacion}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.cardiaca">Cardiaca</span></dt>
                            <dd>
                                <span>{{vm.paciente.cardiaca}}</span>
                            </dd>
                            <dt><span data-translate="dentalApp.paciente.farmacos">Farmacos</span></dt>
                            <dd>
                                <span>{{vm.paciente.farmacos}}</span>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>

            <!-- Panel tratamientos -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title col-xs-10" data-translate="dentalApp.paciente.home.tratamientoLabel">
                        Tratamientos
                    </h4>
                    <div class="flex-btn-group-container">
                        <a ng-show="vm.ocultarTratamientos" href="" ng-click="vm.ocultarTratamiento()">Mostrar</a>
                        <a ng-hide="vm.ocultarTratamientos" href="" ng-click="vm.ocultarTratamiento()">Ocultar</a>
                    </div>
                </div>
                <div id="tratamientos-panel" uib-collapse="vm.ocultarTratamientos">
                    <div class="panel-body">
                        <table class="jh-table table table-striped">
                            <thead>
                            <tr>
                                <th><span data-translate="dentalApp.tratamiento.fecha">Fecha</span></th>
                                <th><span data-translate="dentalApp.tratamiento.pieza">Pieza</span></th>
                                <th><span data-translate="dentalApp.tratamiento.procedimiento">Procedimiento</span></th>
                                <th><span data-translate="dentalApp.tratamiento.precio">Precio</span></th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="tratamiento in vm.trats | orderBy:'-fecha'">
                                    <td>{{tratamiento.fecha | date:'mediumDate'}}</td>
                                    <td>{{tratamiento.pieza.numeroPieza}} ({{tratamiento.pieza.nombre}})</td>
                                    <td>{{tratamiento.procedimiento}}</td>
                                    <td>{{tratamiento.precio | currency: '$'}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="text-center">
                           <uib-pagination class="pagination-sm" total-items="vm.totalItems" items-per-page="vm.itemsPerPage" ng-model="vm.page" ng-change="vm.transition()"></uib-pagination>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Panel diagnosticos -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title col-xs-10" data-translate="dentalApp.paciente.home.diagnosticosLabel">
                        Datos Personales
                    </h4>
                    <div class="flex-btn-group-container">
                        <a ng-show="vm.ocultarDiagnosticos" href="" ng-click="vm.ocultarDiagnostico()">Mostrar</a>
                        <a ng-hide="vm.ocultarDiagnosticos" href="" ng-click="vm.ocultarDiagnostico()">Ocultar</a>
                    </div>
                </div>
                <div id="diagnosticos-panel" uib-collapse="vm.ocultarDiagnosticos">
                    <div class="panel-body">
                        <table class="jh-table table table-striped">
                            <thead>
                            <tr>
                                <th><span data-translate="dentalApp.diagnostico.fecha">Fecha</span></th>
                                <th><span data-translate="dentalApp.diagnostico.pieza">Pieza</span></th>
                                <th><span data-translate="dentalApp.diagnostico.descripcion">Descripcion</span></th>
                                <th><span data-translate="dentalApp.diagnostico.estado">Estado</span></th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="diagnostico in vm.diags | orderBy:'-fecha'">
                                <td>{{diagnostico.fecha | date:'mediumDate'}}</td>
                                <td>{{diagnostico.pieza.numeroPieza}} ({{diagnostico.pieza.nombre}})</td>
                                <td>{{diagnostico.descripcion}}</td>
                                <td data-translate="{{'dentalApp.EstadoDiagnostico.' + diagnostico.estado}}">{{diagnostico.estado}}</td>
                                <td>
                                    <button class="btn btn-danger btn-xs" ng-click="vm.setEstado(diagnostico, false)" ng-show="diagnostico.estado === 'PENDIENTE'">
                                        <span class="glyphicon glyphicon glyphicon-remove"></span></button>
                                    <button class="btn btn-success btn-xs" ng-click="vm.setEstado(diagnostico, true)" ng-show="diagnostico.estado === 'PENDIENTE'">
                                        <span class="glyphicon glyphicon glyphicon-ok"></span></button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="text-center">
                            <uib-pagination class="pagination-sm" total-items="vm.totalItems" items-per-page="vm.itemsPerPage" ng-model="vm.page" ng-change="vm.transition()"></uib-pagination>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Panel pagos -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title col-xs-10" data-translate="dentalApp.paciente.home.pagosLabel">
                        Pagos
                    </h4>
                    <div class="flex-btn-group-container">
                        <a ng-show="vm.ocultarPagos" href="" ng-click="vm.ocultarPago()">Mostrar</a>
                        <a ng-hide="vm.ocultarPagos" href="" ng-click="vm.ocultarPago()">Ocultar</a>
                    </div>
                </div>
                <div id="pagos-panel" uib-collapse="vm.ocultarPagos">
                    <div class="panel-body">
                        <table class="jh-table table table-striped">
                            <thead>
                            <tr>
                                <th><span data-translate="dentalApp.pago.fecha">Fecha</span></th>
                                <th><span data-translate="dentalApp.pago.observacion">Observacion</span></th>
                                <th><span data-translate="dentalApp.pago.monto">Monto</span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="pago in vm.pagos | orderBy : '-fecha'">
                                <td>{{pago.fecha | date:'mediumDate'}}</td>
                                <td>{{pago.observacion}}</td>
                                <td>{{pago.monto | currency:'$'}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>
